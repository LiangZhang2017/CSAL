<!DOCTYPE html>
<html>
	<head>
		<title>CSAL Media</title>
<script>document.domain = 'xiangenhu.github.io'</script>
		<!--load Google fonts-->
		<link href='http://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Life+Savers' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Faster+One' rel='stylesheet' type='text/css'>
		
		<!--load jQuery libraries-->
		<script type="text/javascript" src="jquery.min.js"></script>
		<script type="text/javascript" src="jquery-ui.min.js"></script>
		
		<!--load jScrollPane libraries and CSS-->
		<link type="text/css" href="jScrollPane/style/jquery.jscrollpane.css" rel="stylesheet" media="all" />
		<script type="text/javascript" src="jScrollPane/script/jquery.mousewheel.js"></script>
		<script type="text/javascript" src="jScrollPane/script/jquery.jscrollpane.min.js"></script>
		<style type="text/css" id="page-css">
			body
			{
				background-image:url('L19Bkgd.png');
				background-repeat: no-repeat;
				background-size: cover;
				overflow: hidden;
				margin: 0px;
				font-family: 'Life Savers', Verdana, 'Times New Roman';
				cursor: default;
			}
			.scroll-pane
			{
				overflow: auto;
				height: 482px;
				width: 798px;
				margin-top: 1px;
			}
			.horizontal-only
			{
				height: auto;
				max-height: 200px;
			}
			/*#textMapButton
			{
				font-family: Raleway, Verdana, 'Times New Roman';
				font-size: 22px;
				font-weight: bold;
				background-color: #5b8ebc;
				padding: 3px 70px;
				top: 0;
				right: 80px;
				border-right: 1px solid black;
				border-left: 1px solid black;
				border-bottom: 1px solid black;
				border-radius: 0px 0px 8px 8px;
				cursor: pointer;
				position: fixed;
			}*/
			#textMapButton:hover
			{
				color: white;
				border-right: 1px solid white;
				border-left: 1px solid white;
				border-bottom: 1px solid white;
			}
			#instructBox{}
			#mainTextHead
			{
				font-family: 'Faster One', Verdana, 'Times New Roman';
				font-weight: 700;
				font-size: 32px;
				margin: 0px 0px 6px -20px;
				padding: 5px;
				text-align: center;
				width: 380px;
				vertical-align: top;
				display: inline-block;
				font-style: italic;
				border: 3px solid #212121;
			}
			#mainTextHead span
			{
				font-size: 40px;
			}
			#mainTextSubHead
			{
				font-family: 'Raleway', Verdana, 'Times New Roman';
				font-size: 18px;
				font-weight: normal;
				font-style: italic;
			}
			#adPic img
			{	
				display: inline-block;
				margin: 25px 0px 0px 20px;
				height: 120px;
			}
			#mainText
			{
				overflow: auto;
				font-size: 24px;
				line-height: 38px;
				font-weight: bold;
				width: 690px;
				margin: 0px 0px 0px 30px;
				padding: 20px 20px;
				display: inline-block;
			}
			#para1, #para2
			{
				letter-spacing: 2px;
				margin: 10px 0px;
			}
			#para2
			{
				text-align: center;
				font-size: 28px;
			}
			.questionBox
			{
				position: fixed;
				bottom:0;
				z-index:1;
				width: 800px;
				height: 45px;
				background-image: url('QBkgd1.png');
				background-color: #d8daab;
				border-top: 3px solid #5b8ebc;
				margin: 0px  0px auto;
				padding: 0px;
				font-family: 'Raleway', Verdana, 'Times New Roman';
				display: none;
			}
			#questionText
			{
				text-align: center;
				font-size: 32px;
				padding: 10px 0px 5px 0px;
				color: #212121;
				margin: 0px;
			}
			#buttonBox
			{
				margin: 0px auto;
				width: 660px;
			}
			.mybutton
			{
				background-color: 474747;
				font-size: 30px;
				font-family: Raleway, Verdana, 'Times New Roman';
				font-weight: 700;
				width: 620px;
				height: 60px;
				line-height: 60px;
				margin: 20px auto 10px auto;
				text-decoration: none;
				border: none;
				position: relative;
				text-align: center;
				padding: 2px;
				outline: none;
				border-radius: 6px;
			}
			.mybutton:hover
			{
				cursor: pointer;
			}
			#textMap
			{
				background-color: #2a3c51;
				font-family: Copse, Verdana, 'Times New Roman';
				width: 800px;
				height: 486px;
				position: fixed;
				bottom:0;
				z-index:1;
				margin: 0px  0px auto;
				padding: 0px;
				border: none;
				display: none;
				cursor: pointer;
			}
			.textTitleTopicBox1
			{
				background-color: #ffbf40;
				color: #835904;
				width: 45%;
				height: 112px;
				margin: 12px 0px 0px 15px;
				padding: 5px;
				border: 4px solid #ffbf40;
				border-radius: 10px;
				display: inline-block;
			}
			
			.textTitleTopicBox2
			{
				background-color: #ffbf40;
				color: #835904;
				width: 45%;
				height: 112px;
				margin: 12px 0px 0px 15px;
				padding: 5px;
				border: 4px dotted #FFFCF7;
				border-radius: 15px;
				display: inline-block;
			}
						
			#textTopicBox{margin-left: 12px;}
			#headTitleTopic
			{
				font-size: 32px;
				width: 22%;
				padding: 40px 10px 0px 10px;
				display: inline-block;
				vertical-align: top;
				text-align: center;
			}
			#titleEntry1
			{
				color: #292929;
				background-color: white;
				font-size: 30px;
				width: 70%;
				height: 92%;
				margin: 5px 0px 0px 0px;
				border-radius: 10px;
				display: inline-block;
				vertical-align: top;
				text-align: center;
			}
			#titleEntry2
			{
				color: #292929;
				background-color: white;
				font-size: 30px;
				width: 70%;
				height: 92%;
				margin: 5px 0px 0px 0px;
				border-radius: 10px;
				display: inline-block;
				vertical-align: top;
				text-align: center;
			}
			.posText1 { padding: 40px 5px;font-size: 28px; }
			#textMainIdeaBox
			{
				background-color: #ff6140;
				color: #9f3019;
				width: 94%;
				height: 92px;
				margin: 6px 0px 0px 15px;
				padding: 5px;
				border-radius: 10px;
				border: 4px dotted #FFFCF7;
				display: inline-block;
			}
			#headMainIdea
			{
				font-size: 32px;
				width: 16%;
				padding: 12px 10px 0px 10px;
				display: inline-block;
				vertical-align: top;
				text-align: center;
			}
			#mainIdeaEntry
			{
				color: #292929;
				background-color: white;
				font-size: 24px;
				width: 80%;
				height: 99%;
				margin: 1px 0px 0px 0px;
				border-radius: 10px;
				display: inline-block;
				vertical-align: top;
				text-align: center;
			}
			.supportEntry
			{
				color: #292929;
				background-color: #62b1d0;
				font-size: 22px;
				width: 95%;
				height: 12%;
				margin: 6px 0px 0px 15px;
				border-radius: 10px;
				border: 4px dotted #FFFCF7;
				display: inline-block;
				vertical-align: top;
				text-align: center;
			}
			.posText2
			{
				padding: 2px 8px;
			}
			.highlight
			{
				background-color: #ffeb43;
				border-radius: 10px;
			}
			.indent
			{
				margin-left: 40px;
			}
			.para
			{
				margin: 10px 0px;
			}
		</style>
		
		<script type="text/javascript" id="sourcecode">
			//-1 to 0 == 1 item
			var currentItem = -1;
			var numItems = 0;
			var $scrollElement;			
			var questionBoxArray = [];
			var numQuestionBoxes = 1;
			var selectedAnswer = "";
			var isSelected = false
			var userAnswer = "";
			var userSelecteditem;
			var score=0;
			//you can store multiple answers in this array if needed
			var correctAnswerArray = ["b2"];
			var items = ["b1","b2","b3"];
			//create sound functions
			function sound_clicked() 
			{ return parent.PlaySound('clicked0.wav');}

			function sound_incorrect() 
			{ return parent.PlaySound('incorrect0.wav');}
			
			function sound_correct()
			{ return parent.PlaySound('success0.wav');}
			
			$(document).ready(function()
			{				
				//reports to the parent program that the media page html has loaded
				parent.GetWorldEvent("MediaLoadedCar");

				
				//lock the buttons
				Lock();
				$("#questionBox0").slideDown(1000);
				//create scroll pane element
				$scrollElement = $("#textbox").jScrollPane({animateScroll: true, animateDuration: 1000});
				
				//instantiates an array of id strings for the corresponding number of question boxes
				for(i = 0; i < numQuestionBoxes; i++)
				{
					var questionBox = "#questionBox" + i;
					questionBoxArray.push(questionBox);
				}
				
				//button that scrolls the text box a fixed amount
				$('#scrollBtn').click(function()
				{
					var api = $scrollElement.data('jsp');
					api.scrollByY(100);
				});
				
					$("#textMap").click(function() {
				
				HideTextMap();
			}); 
				
				
			});

			function ScrollToId($scrollElement, id)
			{
				//searches document to find the first instance of an element id that matches the id parameter 
				//and calls a function to get the position of that element
				var scrollTarget = document.getElementById(id);
				var rect = scrollTarget.getBoundingClientRect();
				
				//vertically scrolls a scroll bar determined by the $scrollElement parameter to the above determined position
				var api = $scrollElement.data('jsp');
				api.scrollToY(rect.top-10);
			}

			function GetItem()
			{
				if(currentItem < numItems)
				{
					++currentItem;
					return parent.GetWorldEvent("Continue");
				}
				else
				{
					return parent.GetWorldEvent("Stop");
				}
			}

			function ShowItem()
			{
				if(currentItem == 0)
				{
					//animate answer box appearance
					$(questionBoxArray[currentItem]).slideDown(1000);
				}
			}
			
			function ShowTextMap()
			{
				//animate text map appearance
		
				//fades the elements that belong to the fade class. Fades to 40%.
				$(".fade").fadeTo(1000,0.4);
				
				//This call toggles .slideUp and .slideDown every-time ShowTextMap is called.
				$( "#textMap" ).slideToggle(1000);
				
				//loop allows the Main idea box to flash 2 times. 
				for(i=0;i<4;i++) {
				$("#titleEntry1").fadeTo('medium', 0.5).fadeTo('medium', 1.0);

				}
			}
			function HideTextMap()
			{
				//hide text map
				$( "#textMap" ).slideUp(1000);
			}
			
			function ShowMediaAnswer()
			{
				if(currentItem == 0)
				{
					selectedAnswer;
					isSelected = true;
					
					if(isSelected)
					{
						//if an answer has been selected compare see if it is equal to the correct answer
						if( userAnswer == "Incorrect" )
						{
							//do nothing
						}else if( userAnswer == "Correct" )
						{
							//play the correct answer sound
							sound_correct();
						}
						isSelected = false;
					}
					
					//highlight the correct answer green
						$("#Title").append("2001 Honda Accord - $4,500")
					$("#" + correctAnswerArray[0]).animate({backgroundColor: "green", color: "white"}, 1000);
				}
			}

			function Lock()
			{
				//unbinds click function and hover
				$( ".mybutton" ).unbind("click");
				$( ".mybutton" ).unbind("mouseover");
				$( ".mybutton" ).unbind("mouseout");
				
				//sets disabled mouse cursor on buttons
				$( ".mybutton" ).css( 'cursor', 'not-allowed' );
				
				//sets disabled colors WITH animation
				$( ".mybutton" ).animate({backgroundColor: "#474747", color: "gray"}, 500);
			}
			
			function Unlock()
			{
				//this section determines the font size for the click animation used in the clickFunc function below
				var butFontSize = $( ".mybutton" ).css( "font-size" );
				var butFontSizeRaw = butFontSize.replace(/\D/g,'');
				var butAnimSize = butFontSizeRaw - 2 + "px";
				
				var clickFunc = function()
				{
					sound_clicked(); 
					//store the user's answer
					userAnswer = $(this).attr("value");
					userAnswerId = $(this).attr("id");
					
					//user selcted Item 4-7
					userSelecteditem = $(this).attr("item");
					
					items.splice(jQuery.inArray(userAnswerId,items),1); 
					
					//play appropriate sound
					if (userAnswer == "Correct"){ 
						score++;
				
						//$("#Title").append("2001 Honda Accord - $4,500")
					}
					else { 
					//sound_incorrect(); 
					}
					
					//animate button click
					$(this).animate({fontSize: butAnimSize}, 75);
					$(this).animate({fontSize: butFontSize}, 600);
					
					//lock buttons
					Lock();
					
					//set selection color and report answer to ASAT
					$(this).animate({backgroundColor: "#edff73", color: "#212121"}, 600);
					parent.GetWorldEvent("Correct");
				};
				
				//this sets the hover animation & cursor for buttons
				$( ".mybutton" ).mouseover(function()
				{ $(this).animate({backgroundColor: "white"}, 300); });
				$( ".mybutton" ).mouseout(function()
				{ $(this).animate({backgroundColor: "#5b8ebc"}, 300); });
				$( ".mybutton" ).css( 'cursor', 'pointer' );
				
				//animates unlocking via font color & background color
				$(".mybutton").animate({backgroundColor: "#background-color: #5b8ebc;", color: "#212121"}, 1000);
				
				//bind the clickFunc above to any ".mybutton"
				$(".mybutton").bind( "click", clickFunc );
			}
			
			function GetMediaEvent(data)
			{
				if (data == "MainQ")
				{
					parent.GetWorldEvent("Jordan");
				}
				else if (data == "ThisQ")
				{
					parent.GetWorldEvent("Cristina");
				}
				else if(data =="ShowTextMap")
				{
				ShowTextMap()
				}
				else if(data =="HideTextMap")
				{
				HideTextMap()
				}
				else if(data=="Jordan")
				{
				var value = parseInt(Math.random() * (items.length - 1 + 1) + 1);
  				var JordanAnswerID=items[value-1];
				var JordanAnswer = $("#"+JordanAnswerID).attr("value");
					$("#"+JordanAnswerID).animate({backgroundColor: "blue", color: "white"}, 1000);
					parent.GetWorldEvent(JordanAnswer);
			
				}
				else if(data=="UserAnswer")
				{
				
					parent.GetWorldEvent(userSelecteditem);
				}
				else if(data == "NextPage")
				{
				//parent.GetWorldEvent("Medium");
				parent.nextPage("media/"+"Lesson19-M1.html?score="+score);
				}
				else if (data == "getScore")
				{
					
					parent.GetWorldEvent(score);
				}
				
			}
			
			
		</script>
	</head>
	<body>
		<div id="textbox" class="scroll-pane">
			<!--<div id="textMapButton" onclick="ShowTextMap()">
				Text Map
			</div>-->
			<div id="mainText">
				<div id="mainTextHead">
					<span>
						2001 Honda Accord
					</span>
					<br>
					$4500
					<div id="mainTextSubHead">
						Posted on January 5, 2014
					</div>
				</div>
				
				<span id="adPic">
					<img src="HondaAccord.png">
				</span>
				
				<div id="para1" class="para">
					Don't miss the chance to buy this 2001 Honda Accord! This mid-size Honda is gray with approximately 157,000 miles on it. It will take you wherever you want to go. This vehicle is a terrific gas saver. It achieves the best mileage in rural areas, but it will also save you money in the city. The AC and heat are in great condition and make travel comfortable in any weather. The AC can definitely take on our crazy, hot summers! The car has been regularly serviced and has never been in a major accident. It has four new tires, new brakes, and only a minor amount of rust for how old it is! We can test it on the highway, if you want to see how well it runs. Inside and out, the car is so clean that it looks like it just came off the showroom floor! I am available to meet in the evenings and on weekends.</div>
				
				<div id="para2" class="para">
					Call me with any questions 223-818-9199!
				</div>
				
				<div class='mybutton' id="b1"  href='javascript:void(null)'> Click HERE to continue. . .</div>
			</div>
		</div>
		
	</body>
</html>
