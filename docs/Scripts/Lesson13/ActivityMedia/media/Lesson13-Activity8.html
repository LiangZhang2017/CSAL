<!DOCTYPE html>
<html>
	<head>
		<title>Lesson 13 Media</title><script> document.domain = location.host;</script>

		
		<link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
		<link href='https://fonts.googleapis.com/css?family=Comfortaa' rel='stylesheet' type='text/css'>
		<link href='https://fonts.googleapis.com/css?family=Bubblegum+Sans' rel='stylesheet' type='text/css'>
		
		<style>
			body
			{
				//background-color: green;
				background-image:url('PatternBkgd2.png');
				background-repeat: no-repeat;
				background-size: cover;
				overflow: hidden;
				width: 790px;
				height: 482px;
				margin: 0px;
				position: relative;
			}
			#instructBox
			{
				background-color: #e8d7ee;
				font-family: Raleway, Verdana, 'Times New Roman';
				width: 790px;
				font-size: 24px;
				line-height: 30px;
				text-align: center;
				padding: 8px 5px 5px 5px;
				border-bottom: 6px dotted #b99cc4;
				margin: 0px auto 0px auto;
			}
			#questionBox
			{
				width: 730px;
				height: 170px;
				left: 30px;
				background-image: url('ClearBkgd2.png');
				margin: 10px auto 10px auto;
				padding: 0px;
				font-family: 'Bubblegum Sans', Verdana, 'Times New Roman';
				position: absolute;
				display: table;
			}
			#questionText
			{
				text-align: center;
				display: table-cell;
				vertical-align: middle;
				font-size: 26px;
				line-height: 34px;
				padding: 1px;
				color: #212121;
				margin: auto;
			}
			#dragDiv1
			{
				position:absolute;
				top:240px;
				left:55px;
				width:680px;
				font-family: Raleway, Verdana, 'Times New Roman';
				font-size: 18px;
				line-height:24px;
				padding: 5px;
				border-radius: 10px;
				background-color:#b99cc4;
				text-align:center;
				color:#212121;
				cursor:default;
			}
			#dragDiv2
			{
				position:absolute;
				top:305px;
				left:55px;
				width:680px;
				font-family: Raleway, Verdana, 'Times New Roman';
				font-size: 18px;
				line-height:24px;
				padding: 5px;
				border-radius: 10px;
				background-color:#b99cc4;
				text-align:center;
				color:#212121;
				cursor:default;
			}
			#dragDiv4
			{
				position:absolute;
				top:370px;
				left:55px;
				width:680px;
				font-family: Raleway, Verdana, 'Times New Roman';
				font-size: 18px;
				line-height:24px;
				padding: 5px;
				border-radius: 10px;
				background-color:#b99cc4;
				text-align:center;
				color:#212121;
				cursor:default;
			}
			#dragDiv5
			{
				position:absolute;
				top:435px;
				left:55px;
				width:680px;
				font-family: Raleway, Verdana, 'Times New Roman';
				font-size: 18px;
				line-height:24px;
				padding: 5px;
				border-radius: 10px;
				background-color:#b99cc4;
				text-align:center;
				color:#212121;
				cursor:default;
			}

		</style>
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
		 <script type="text/javascript">
	var flag=1;
	var spanX=0;
	var spanY=0;
	var divid;
	var questionNum=0;
	var UserAnswer;
	var dragArea="main";
	var dragAreaID="#main1 div";
	 var insertDivId;
	 var SortArr=["dragDiv1","dragDiv2","dragDiv4","dragDiv5"];
	var slectedItems="";
	 function Start()
		{	
		$(".drag").attr('disabled', true);
		GetRequest() 
		parent.GetWorldEvent("DDLoaded");
		}
	 
	 function GetItem()
		{
			questionNum++;
			
			 if(questionNum<2)
			 {
				//dragAreaID="\"#"+dragArea+questionNum+ " div\"";
				//alert(dragAreaID)
				parent.GetWorldEvent("Continue");
				
			 }
			else
			{
				var getPageContent = " They began to argue, and they realized that they were never going to agree. At the height of their argument, they heard gunfire nearby. They were not sure who was shooting or why, but they did not want to find out. " + "<span>" + $("#insert1").html() + "</span>";
				
				slectedItems += getPageContent;
				//alert(slectedItems);
				parent.nextPage("media/"+"Lesson13-Activity9.html?id="+slectedItems);
			}
			
		}
		function GetRequest() 
		{ 
		
		   var url = location.search; 
		   var idName = new Array();
		   if (url.indexOf("?") != -1) 
		   { 
			   str = url.substr(1); 
				strs = str.split("=");
				slectedItems = strs[1];
				
		   }
		
		}
		function ShowItem()
		{
		Lock();
		
		
		}	
		function Lock()
		{
		$(".drag").attr('disabled', true);
		flag=1;
		
		
		}
		function Unlock()
		{
		$(".drag").attr('disabled', false);
		flag=0;
		
		}

		function GetMediaEvent(data)
		{
			if (data=="UserAnswer")
			{
				return UserAnswer;
			
			}
			else if (data=="NextPage")
			{
				var getPageContent = " They began to argue, and they realized that they were never going to agree. At the height of their argument, they heard gunfire nearby. They were not sure who was shooting or why, but they did not want to find out. " + "<span>" + $("#insert1").html() + "</span>";
				
				slectedItems +=getPageContent;
				
				parent.nextPage("media/"+"Lesson13-Activity9.html?id="+slectedItems);
			
				
		
			}
			else if (data=="JordanSelect")
			{
			
				var getSelectIndex=Math.floor(Math.random() * SortArr.length )
				
				var getSelectName=SortArr[getSelectIndex];
				
				var getContent = $("#"+getSelectName).html();
				
				
				insertDivId="insert"+questionNum;
				$("#"+insertDivId).html(getContent);
				$("#"+insertDivId).css({"text-decoration":"underline"});
				//SortArr.splice(getSelectIndex,1)
				SortArr.splice(jQuery.inArray(getSelectName,SortArr),1); 
				
				$("#"+getSelectName).remove();
				parent.GetWorldEvent("JordanSelect");
				
		
			}
		}
		function ShowMediaAnswer()
		{
			
			

		}
	 
	
	 var main="mian1";
	 	//$(function(){
	 $(document).ready(function(){//$(function scrollIt()
        $("#main div").mouseover(function (e) {
		
			var oe=e||window.event;
             divid = $(this).attr("id"); //
			 getContent = $(this).html();
            var odiv = document.getElementById(divid); //
            $(this).css("z-index", "100").siblings().css("z-index", "0"); //div????
            moveDiv(odiv);
			//alert(oe.clientY)
        });
		
		
		
	        function moveDiv(obj) {
			
				obj.onmousedown = function (e) {//
			
                var oe = e || window.event;
                var $this = this;
				
				insertDivId="insert"+questionNum;
				
                var startX = oe.clientX - $this.offsetLeft;
                var startY = oe.clientY - $this.offsetTop;
				
				var DivStartX= $("#"+divid).offset().left ; 
				var DivStartY = $("#"+divid).offset().top; 
				var rangeLeft;
				var rangeTop;
				
				
                //obj.className = "on"; //css3
			if (flag==0)
			{
				document.onmousemove = function (e) {////??????
                    var oe = e || window.event;

                    $this.style.left = oe.clientX - startX + "px";
					
                    $this.style.top = oe.clientY - startY + "px";
					rangeLeft=oe.clientX - startX  
					rangeTop=oe.clientY - startY
					
					var spanX = $("#"+insertDivId).position().left; 
					var spanY = $("#"+insertDivId).position().top;

					if (rangeLeft>spanX-350 && rangeLeft<spanX+350 && rangeTop <spanY+200 && rangeTop>spanY-200)
					{
						$("#"+insertDivId).css({"color":"green"});
						$("#"+insertDivId).css({"font-weight":"bold"});
						$("#"+insertDivId).css({"font-size":"36px"});
					}
					else
					{
						$("#"+insertDivId).css({"color":"#212121"});
						$("#"+insertDivId).css({"font-weight":"normal"});
						$("#"+insertDivId).css({"font-size":"26px"});
					}
					
					//$this.className='pointer';
					
		         }
                document.onmouseup = function () {//??????
                    document.onmousemove = null;
                    document.onmouseup = null;
                    //obj.className = "off"; //css3??????
					//var insertDivId="insert"+questionNum;
					var spanX = $("#"+insertDivId).position().left ; 
					var spanY = $("#"+insertDivId).position().top;
					if (rangeLeft>spanX-350 && rangeLeft<spanX+350 && rangeTop <spanY+200 && rangeTop>spanY-200)
					{
						$("#"+insertDivId).html(getContent);
						$("#"+insertDivId).css({"color":"#593367"});
						$("#"+insertDivId).css({"text-decoration":"none"});
						$("#"+insertDivId).css({"font-weight":"normal"});
						$("#"+insertDivId).css({"font-size":"26px"});
					
						$("#"+divid).remove();
					
						UserAnswer=getContent;
						//parent.GetWorldEvent("UserAnswer");
						parent.GetWorldEvent("userAnswer_"+"UserAnswer_"+UserAnswer);
						
						Lock();

					}
					else
					{
						$this.style.left =DivStartX+ "px";
						$this.style.top = DivStartY+ "px";
					}

                    if ($this.releaseCapture) {//debug??????
					
                        $this.releaseCapture();
                    }
                }
                if ($this.setCapture) {//debug??????
                    $this.setCapture();

                }
				}
			
			}
            
        }
    });
</script>
	</head>
	<body onload="Start()">
		<div id="instructBox">
				Drag and drop an option onto the blank.<span style="text-decoration: underline;"></span><br>
		</div>
		
		<div id="questionBox">
			<div id="questionText"> They began to argue, and they realized that they were never going to agree. At the height of their argument, they heard gunfire nearby.  They were not sure who was shooting or why, but they did not want to find out. <span id="insert1" style="text-decoration: underline;">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</span>
			</div>
		</div>
		<div  style="width: 100%; height: 100%; margin: 0 auto;" id="main">
		<span id="List" style="text-decoration: underline;">
		<div class="drag" id="dragDiv1" >Their fear gave way to bravery. They picked up rocks and began hurling them in the direction of the gunfire.</div>
		<div class="drag" id="dragDiv2" >They decided to make a run for the forest behind them. As they neared the trees, an explosion launched them forward into the darkness.</div>
		<div class="drag" id="dragDiv4" >The rain was pouring, so they snuggled closer together, looked into each other's eyes and kissed.</div>
		<div class="drag" id="dragDiv5" >Unexpectedly, the ground opened up beneath them and swallowed them whole.</div>
		
		</div>
		
		
	</body>
</html>
