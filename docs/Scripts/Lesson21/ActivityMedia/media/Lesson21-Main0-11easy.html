<!DOCTYPE html>
<html>
	<head>
		<title>CSAL Media</title>
<script>document.domain = 'ace.autotutor.org'</script>
		
		<!--load Google fonts-->
		<link href='https://fonts.googleapis.com/css?family=Arimo' rel='stylesheet' type='text/css'>
		<link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
		<link href='https://fonts.googleapis.com/css?family=Playball' rel='stylesheet' type='text/css'>
		
		<!--load jQuery libraries-->
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.1/jquery-ui.min.js" type="text/javascript"></script> 
		
		<!--load jScrollPane libraries and CSS-->
		<link type="text/css" href="jScrollPane/style/jquery.jscrollpane.css" rel="stylesheet" media="all" />
		<script type="text/javascript" src="jScrollPane/script/jquery.mousewheel.js"></script>
		<script type="text/javascript" src="jScrollPane/script/jquery.jscrollpane.min.js"></script>
		
		<style type="text/css" id="page-css">
			body
			{
				background-image:url('L21Background1.png');
				background-repeat: no-repeat;
				background-size: cover;
				overflow: hidden;
				margin: 0px;
				font-family: 'Arimo', Verdana, 'Times New Roman';
				cursor: default;
			}
			.scroll-pane
			{
				overflow: auto;
				height: 426px;
				width: 798px;
				margin-top: 57px;
				padding: 10px 0px;
			}
			#instructBox
			{
				background-color: #424242;
				color: white;
				font-family: 'Raleway', Verdana, 'Times New Roman';
				width: 800px;
				font-size: 26px;
				text-align: center;
				padding: 10px 0px;
				border-bottom: 5px dashed white;
				margin: 0px auto 4px auto;
				position: fixed;
				top: 0;
			}
			#mainText
			{
				font-size: 24px;
				padding: 0px 15px;
				line-height: 32px;
			}
			#mainTextHead
			{
				font-family: 'Playball', Verdana, 'Times New Roman';
				font-size: 38px;
				margin: 0px 0px;
				font-weight: bold;
				text-decoration: underline;
				text-align: center;
			}
			.mybutton
			{
				font-size: 24px;
				font-weight: normal;
				line-height: 34px;
				margin: 8px auto;
				text-decoration: none;
				border: none;
				position: relative;
				text-align: left;
				padding: 8px 12px;
				outline: none;
				border-radius: 6px;
			}
			.num
			{
				height: 24px;
				font-size: 22px;
				border-radius: 10px;
				background-color: #d8d8d8;
			}
			.indent { margin: 0px 0px; }
			.para { margin: 0px 0px; }
			.highlight
			{
				background-color: #ffeb43;
				border-radius: 10px;
				padding: 0px 6px;
				font-weight: bold;
			}
			.sumTitle
			{
				font-size: 28px;
				font-weight: bold;
				text-align: center;
			}
		</style>
		<script type="text/javascript" id="sourcecode">
			var currentItem = -1;
			var numItems = 0;
			var $scrollElement;			
			var questionBoxArray = [];
			var numQuestionBoxes = 1;
			var selectedAnswer = "";
			var isSelected = false
			var userAnswer = "";
			var strId = "";
			
			//you can store multiple answers in this array if needed
			var correctAnswerArray = ["b3"];
			
			//create sound functions
			function sound_clicked() 
			{ //return parent.PlaySound('clicked0.wav');
			}

			function sound_incorrect() 
			{ //return parent.PlaySound('incorrect0.wav');
			}
			
			function sound_correct()
			{// return parent.PlaySound('success0.wav');
			}
			
			$(document).ready(function()
			{				
				//reports to the parent program that the media page html has loaded
				parent.GetWorldEvent("MediaLoaded");
				
				//lock the buttons
				Lock();
				
				//create scroll pane element
				$scrollElement = $("#textbox").jScrollPane({animateScroll: true, animateDuration: 1000});
				
				//instantiates an array of id strings for the corresponding number of question boxes
				for(i = 0; i < numQuestionBoxes; i++)
				{
					var questionBox = "#questionBox" + i;
					questionBoxArray.push(questionBox);
				}
				
				//button that scrolls the text box a fixed amount
				$('#scrollBtn').click(function()
				{
					var api = $scrollElement.data('jsp');
					api.scrollByY(100);
				});
			});
			
			function ScrollToId($scrollElement, id)
			{
				//searches document to find the first instance of an element id that matches the id parameter 
				//and calls a function to get the position of that element
				var scrollTarget = document.getElementById(id);
				var rect = scrollTarget.getBoundingClientRect();
				
				//vertically scrolls a scroll bar determined by the $scrollElement parameter to the above determined position
				var api = $scrollElement.data('jsp');
				api.scrollToY(rect.top-10);
			}

			function GetItem()
			{
				if(currentItem < numItems)
				{
					++currentItem;
					return parent.GetWorldEvent("Continue");
				}
				else
				{
					return parent.GetWorldEvent("Stop");
				}
			}

			function ShowItem()
			{
				if(currentItem == 0)
				{
					//animate answer box appearance
					$(questionBoxArray[currentItem]).slideDown(1000);
				}
			}
			
			function ShowTextMap()
			{
				//animate text map appearance
				$( "#textMap" ).slideToggle(1000);
			}
			
			function ShowMediaAnswer()
			{
				
					selectedAnswer;
					isSelected = true;
					
					if(isSelected)
					{
						//if an answer has been selected compare see if it is equal to the correct answer
						if( userAnswer == "Incorrect" )
						{
							//do nothing
						}else if( userAnswer == "Correct" )
						{
							$("#b2").animate({backgroundColor: "green", color: "white"}, 1000);
							//play the correct answer sound
							parent.PlaySound('success0.wav');
						}
						isSelected = false;
					}
					
					//highlight the correct answer green
					$("#b2").animate({backgroundColor: "green", color: "white"}, 1000);
				
			}

			function Lock()
			{
				//unbinds click function and hover
				$( ".mybutton" ).unbind("click");
				$( ".mybutton" ).unbind("mouseover");
				$( ".mybutton" ).unbind("mouseout");
				
				//sets disabled mouse cursor on buttons
				$( ".mybutton" ).css( 'cursor', 'not-allowed' );
				
				//sets disabled colors WITH animation
				$( ".mybutton" ).animate({backgroundColor: "#474747", color: "gray"}, 500);
			}
			
			function Unlock()
			{
				//this section determines the font size for the click animation used in the clickFunc function below
				var butFontSize = $( ".mybutton" ).css( "font-size" );
				var butFontSizeRaw = butFontSize.replace(/\D/g,'');
				var butAnimSize = butFontSizeRaw - 1 + "px";
				
				var clickFunc = function()
				{
					//store the user's answer
					userAnswer = $(this).attr("value");
					userSelectedItem = $(this).attr("id");
					userSelectedValue = document.getElementById(userSelectedItem).innerHTML;
					userSelectedValue=userSelectedValue.replace(/[\r\n]/g,"");
					userSelectedValue=userSelectedValue.replace(/[\/#$%\^&\*{}=_`~()\"]/g,"");
					userSelectedValue=userSelectedValue.replace(/[\t]+/g,"");	
					userSelectedValue=userSelectedValue.replace(/(^\s*)|(\s*$)/g, "");
					userSelectedValue=userSelectedValue.replace(/<[^>].*?>/g,"");
					//play appropriate sound
					if (userAnswer == "Correct")
					{ 
					parent.PlaySound('clicked0.wav'); 
					}
					else { 
					parent.PlaySound('incorrect0.wav'); 
					}
					
					//animate button click
					$(this).animate({fontSize: butAnimSize}, 75);
					$(this).animate({fontSize: butFontSize}, 600);
					
					//lock buttons
					Lock();
					
					//set selection color and report answer to ASAT
					$(this).animate({backgroundColor: "#edff73", color: "#212121"}, 600);
					parent.GetWorldEvent("userAnswer_"+userAnswer+"_"+userSelectedValue);
				};
				
			//this sets the hover animation & cursor for buttons
				$( ".mybutton" ).mouseover(function()
				{ $(this).animate({backgroundColor: "white", color: "#212121"}, 300); });
				$( ".mybutton" ).mouseout(function()
				{ $(this).animate({backgroundColor: "#1d3352", color: "white"}, 300); });
				$( ".mybutton" ).css( 'cursor', 'pointer' );
				
				//animates unlocking via font color & background color
				$(".mybutton").animate({backgroundColor: "#background-color: #1d3352;", color: "white"}, 1000);
				
				//bind the clickFunc above to any ".mybutton"
				$(".mybutton").bind( "click", clickFunc );
			}
			
			function Start()
			{
				$("#fadeBody").fadeIn(600);
				var pageName="Lesson17-Main0-2medium.html"
				//parent.GetWorldEvent(pageName);
				GetRequest();
				Lock();
				//parent.GetWorldEvent("MediaLoaded");
			}	
			
			function GetRequest() 
			{
			   var url = location.search; 
			   var idName = new Array();
			   if (url.indexOf("?") != -1) 
			   { 
				   str = url.substr(1); 
					strs = str.split("=");
					strId = strs[1];
					//strId= parseInt(strId, 10);
					//var a= parseInt(strId, 10);
					//a=a/2;
					//parent.GetWorldEvent(strId);
					//idName=strId.split("&");
					//return idName[idName.length-2];
			   }
			}
			
		function GetMediaEvent(data)
			{
				if (data == "AskQ") 
				{
				parent.GetWorldEvent("Jordan");
				}
				else if (data == "ThisQ")
				{
				parent.GetWorldEvent("Jordan");
				}
				else if(data == "NextPage")
				{
					$("#buttonBox").fadeOut(1000);
					$("#questionText").fadeOut(1000);
					parent.nextPage("media/"+"Lesson21-Main0-12easy.html?id="+strId);
					//parent.GetWorldEvent("Cristina");
				}
				else if (data == "Difficulty") 
				{
					parent.GetWorldEvent("Easy");
				}
			}
		</script>
	</head>
	<body  onload="Start()">
		<div id="instructBox">
			Click the strongest <span style="text-decoration: underline;">summary</span> from below.
		</div>
		<div id="textbox" class="scroll-pane">
			<div id="mainText">
				<div id="para1" class="para">
				<div class="mybutton" id="b1" value="Incorrect">
				<div class="sumTitle">Summary 1</div>
				Smoking can cause damage to people. People can be harmed by it and you are never too old to quit smoking. The way to prevent the effects of smoking is to quit.</div>
				</div>
				
				<div id="para2" class="para">
				<div class="mybutton" id="b2" value="Correct">
				<div class="sumTitle">Summary 2</div>
				Smoking can cause harm to your body and health. Millions are effected by smoking and it can lead to certain health issues such as cancer or heart disease. To prevent the health issues associated with smoking you have to quit. There is no age limit to quitting. </div>
				</div>
			</div>
		</div>
	</body>
</html>
